name: Test Integrity
on:
  pull_request:
    paths: [ '**.java', '**.gradle', 'gradle.properties' ]
  push:
    paths: [ '.github/workflows/on_pr.yml' ]
jobs:
  gradle:
    strategy:
      matrix:
        os: [windows-latest, ubuntu-latest, macos-latest]
        minecraftVersion: [1.15, 1.15.1, 1.15.2]
    runs-on: ${{ matrix.os }}
    steps:
      - name: "Checkout"
        uses: actions/checkout@v2
        with:
          lfs: true
      - name: "Run Fabric Tests"
        uses: Geometrically/fabric-test-runner@v1
        id: testRunner
        with:
          minecraftVersion: ${{ matrix.minecraftVersion }}
